{"level":"error","message":"middlewareError","meta":{"date":"Mon Feb 27 2023 16:10:34 GMT+0300 (Москва, стандартное время)","error":{"name":"loginError","status":401},"exception":true,"level":"error","message":"uncaughtException: Необходима авторизация\nloginError: Необходима авторизация\n    at auth (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\middlewares\\auth.js:7:17)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express-winston\\index.js:429:9\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9","os":{"loadavg":[0,0,0],"uptime":182191},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18281527,"external":24969800,"heapTotal":60514304,"heapUsed":25102112,"rss":74645504},"pid":6048,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","host":"localhost:3000","postman-token":"14745097-2622-488f-83ce-7243502d4001","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"loginError: Необходима авторизация\n    at auth (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\middlewares\\auth.js:7:17)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express-winston\\index.js:429:9\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9","trace":[{"column":17,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":7,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":9,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express-winston\\index.js","function":null,"line":429,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:02:06 GMT+0300 (Москва, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":286083},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18288161,"external":19822639,"heapTotal":29319168,"heapUsed":26270816,"rss":58478592},"pid":6048,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"0","host":"localhost:3000","postman-token":"fe2b4fff-0129-42c0-af48-086fd79cc4e7","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"Error: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":19,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":null,"file":null,"function":"runMicrotasks","line":null,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:02:54 GMT+0300 (Москва, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19","os":{"loadavg":[0,0,0],"uptime":286131},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18299133,"external":19833611,"heapTotal":29319168,"heapUsed":26482400,"rss":58589184},"pid":6048,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"35","content-type":"application/x-www-form-urlencoded","host":"localhost:3000","postman-token":"acef90db-04a9-445e-aaba-1bfa6f0f8cf1","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"Error: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19","trace":[{"column":19,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:03:59 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: userModel.create is not a function\nTypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","os":{"loadavg":[0,0,0],"uptime":286196},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18295562,"external":19933233,"heapTotal":29581312,"heapUsed":26781984,"rss":59064320},"pid":6048,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"58","content-type":"application/json","host":"localhost:3000","postman-token":"cefff6a3-cdaa-4fec-af99-a35dcc859fa6","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","trace":[{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":null,"line":86,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:04:49 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: userModel.create is not a function\nTypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","os":{"loadavg":[0,0,0],"uptime":286246},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18307204,"external":19944875,"heapTotal":29843456,"heapUsed":27245448,"rss":59396096},"pid":6048,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"37f57077-d608-49bb-8583-c91ef7cc2fc5","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","trace":[{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":null,"line":86,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:05:41 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: userModel.create is not a function\nTypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","os":{"loadavg":[0,0,0],"uptime":286297},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368659,"external":25056932,"heapTotal":60514304,"heapUsed":25820752,"rss":74297344},"pid":23508,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"7221aa51-fe28-44b3-b9d6-0d87f6dbc5ef","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","trace":[{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":null,"line":86,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:06:33 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: userModel.create is not a function\nTypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","os":{"loadavg":[0,0,0],"uptime":286349},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368659,"external":25056932,"heapTotal":60252160,"heapUsed":25820936,"rss":74555392},"pid":23640,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"d43d1c33-68bb-4ee7-8360-fd13e7928b77","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","trace":[{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":null,"line":86,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:07:21 GMT+0300 (Москва, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":286398},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18280923,"external":19234807,"heapTotal":28270592,"heapUsed":25234360,"rss":57774080},"pid":23640,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"79","content-type":"application/json","host":"localhost:3000","postman-token":"ca5df49f-3e60-4703-88e1-779e32ccf91c","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Error: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":19,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:08:02 GMT+0300 (Москва, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":286439},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18291934,"external":19245818,"heapTotal":28270592,"heapUsed":25502592,"rss":57974784},"pid":23640,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"81","content-type":"application/json","host":"localhost:3000","postman-token":"3ed68949-ebad-4504-b668-c88c76bf8a39","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Error: Validation failed\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":19,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:08:09 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: userModel.create is not a function\nTypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","os":{"loadavg":[0,0,0],"uptime":286446},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18292918,"external":19246802,"heapTotal":28270592,"heapUsed":25679736,"rss":58183680},"pid":23640,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"81","content-type":"application/json","host":"localhost:3000","postman-token":"49a7f711-1f69-4cd6-a910-fddef7e8e51a","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:86:10","trace":[{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":null,"line":86,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:08:55 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: userModel.create is not a function\nTypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:85:10","os":{"loadavg":[0,0,0],"uptime":286492},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368539,"external":25056812,"heapTotal":60514304,"heapUsed":25811880,"rss":75087872},"pid":5884,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"81","content-type":"application/json","host":"localhost:3000","postman-token":"46456bcb-69b4-4af1-89bf-e0ec26301582","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:85:10","trace":[{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":null,"line":85,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:12:21 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: userModel.create is not a function\nTypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:85:10","os":{"loadavg":[0,0,0],"uptime":286697},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368661,"external":23560197,"heapTotal":60514304,"heapUsed":25817128,"rss":74092544},"pid":10696,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"81","content-type":"application/json","host":"localhost:3000","postman-token":"a427cf89-4cee-474a-80ea-55f278afdb4e","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"TypeError: userModel.create is not a function\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:85:10","trace":[{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":null,"line":85,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:25:39 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot destructure property 'email' of 'req.body' as it is undefined.\nTypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:25:11)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","os":{"loadavg":[0,0,0],"uptime":287496},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18290129,"external":19334204,"heapTotal":28008448,"heapUsed":25900760,"rss":56815616},"pid":12188,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"66932b64-cfb4-417d-8b2a-75879b38513e","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:25:11)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","trace":[{"column":11,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":"changeUser","line":25,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:25:46 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot destructure property 'email' of 'req.body' as it is undefined.\nTypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:25:11)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","os":{"loadavg":[0,0,0],"uptime":287502},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18305747,"external":19349862,"heapTotal":28008448,"heapUsed":26127240,"rss":57962496},"pid":12188,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"9dafbbc6-4aaa-4ca8-bee3-540ebab29ce2","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:25:11)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","trace":[{"column":11,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":"changeUser","line":25,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:26:18 GMT+0300 (Москва, стандартное время)","error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"},"exception":true,"level":"error","message":"uncaughtException: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\nCastError: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","os":{"loadavg":[0,0,0],"uptime":287535},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368801,"external":25057074,"heapTotal":60514304,"heapUsed":26086552,"rss":74186752},"pid":19184,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"92b19524-fc0c-451b-bf7a-99c1d7ac07d1","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"CastError: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","trace":[{"column":21,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.exec","line":4927,"method":"exec","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.Query.then","line":5026,"method":"then","native":false},{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":"changeUser","line":29,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:28:39 GMT+0300 (Москва, стандартное время)","error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"},"exception":true,"level":"error","message":"uncaughtException: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\nCastError: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","os":{"loadavg":[0,0,0],"uptime":287676},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368801,"external":25057074,"heapTotal":60514304,"heapUsed":26218752,"rss":74874880},"pid":20124,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"c8bfeb58-97dc-4d00-9c28-1a3c8e232666","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"CastError: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","trace":[{"column":21,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.exec","line":4927,"method":"exec","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.Query.then","line":5026,"method":"then","native":false},{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":"changeUser","line":29,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:28:58 GMT+0300 (Москва, стандартное время)","error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ _id: undefined }\"","value":{},"valueType":"Object"},"exception":true,"level":"error","message":"uncaughtException: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\nCastError: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","os":{"loadavg":[0,0,0],"uptime":287694},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368801,"external":23560337,"heapTotal":60776448,"heapUsed":26210544,"rss":73916416},"pid":2204,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"2fe48b60-fd34-4860-bfd5-ddcbc9ed1460","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"CastError: Cast to ObjectId failed for value \"{ _id: undefined }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","trace":[{"column":21,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.exec","line":4927,"method":"exec","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.Query.then","line":5026,"method":"then","native":false},{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":"changeUser","line":29,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:29:13 GMT+0300 (Москва, стандартное время)","error":{"kind":"ObjectId","message":"Cast to ObjectId failed for value \"{ id: '63fe445baf3b7367f3fd6519' }\" (type Object) at path \"_id\" for model \"user\"","name":"CastError","path":"_id","reason":{},"stringValue":"\"{ id: '63fe445baf3b7367f3fd6519' }\"","value":{"id":"63fe445baf3b7367f3fd6519"},"valueType":"Object"},"exception":true,"level":"error","message":"uncaughtException: Cast to ObjectId failed for value \"{ id: '63fe445baf3b7367f3fd6519' }\" (type Object) at path \"_id\" for model \"user\"\nCastError: Cast to ObjectId failed for value \"{ id: '63fe445baf3b7367f3fd6519' }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","os":{"loadavg":[0,0,0],"uptime":287710},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368801,"external":25057074,"heapTotal":60514304,"heapUsed":26020064,"rss":74256384},"pid":7260,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"67fedd67-6af3-4576-934e-e11cd17819da","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"CastError: Cast to ObjectId failed for value \"{ id: '63fe445baf3b7367f3fd6519' }\" (type Object) at path \"_id\" for model \"user\"\n    at model.Query.exec (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4927:21)\n    at model.Query.Query.then (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:5026:15)\n    at changeUser (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js:29:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)","trace":[{"column":21,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.exec","line":4927,"method":"exec","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query.Query.then","line":5026,"method":"then","native":false},{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\user.js","function":"changeUser","line":29,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:31:50 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: movieModel.findOne is not a function\nTypeError: movieModel.findOne is not a function\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","os":{"loadavg":[0,0,0],"uptime":287867},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18280438,"external":19234282,"heapTotal":28532736,"heapUsed":25314008,"rss":57368576},"pid":21012,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"54","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"693e4afe-6d51-4d89-b412-97780b698620","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"TypeError: movieModel.findOne is not a function\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","trace":[{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js","function":"getMovies","line":8,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:32:05 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'findOne')\nTypeError: Cannot read properties of undefined (reading 'findOne')\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","os":{"loadavg":[0,0,0],"uptime":287881},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368799,"external":25057072,"heapTotal":60776448,"heapUsed":25832096,"rss":74514432},"pid":19804,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"54","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"9e02603f-999e-4f87-bb88-679a41338743","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"TypeError: Cannot read properties of undefined (reading 'findOne')\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","trace":[{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js","function":"getMovies","line":8,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:32:40 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'find')\nTypeError: Cannot read properties of undefined (reading 'find')\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","os":{"loadavg":[0,0,0],"uptime":287917},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18368799,"external":23711470,"heapTotal":60514304,"heapUsed":25830336,"rss":75120640},"pid":15144,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"54","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"e5461e8f-304b-41d7-b744-ede4c5bfc73f","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","trace":[{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js","function":"getMovies","line":8,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:33:07 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot read properties of undefined (reading 'find')\nTypeError: Cannot read properties of undefined (reading 'find')\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","os":{"loadavg":[0,0,0],"uptime":287944},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18279845,"external":19233729,"heapTotal":28532736,"heapUsed":25215496,"rss":57831424},"pid":15144,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"54","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"cd2d9828-5f98-4dc1-93af-11b668ad58d8","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at getMovies (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:8:6)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","trace":[{"column":6,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js","function":"getMovies","line":8,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:36:38 GMT+0300 (Москва, стандартное время)","error":{"body":"{\r\n    country:\"Russia\", \r\n    director:\"John\", \r\n    duration:\"1:50\", \r\n    year:\"2022\",\r\n     description:\"trailer\", \r\n     image:\"assdad\", \r\n     trailer:\"asdas\", \r\n     nameRU:\"bocj\", \r\n     nameEN:\"bocj\"\r\n      thumbnail:\"500\",\r\n       movieId:\"1\" \r\n}","expose":true,"status":400,"statusCode":400,"type":"entity.parse.failed"},"exception":true,"level":"error","message":"uncaughtException: Unexpected token c in JSON at position 7\nSyntaxError: Unexpected token c in JSON at position 7\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\body-parser\\lib\\types\\json.js:89:19)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:202:9)\n    at invokeCallback (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js:231:16)\n    at done (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js:220:7)\n    at IncomingMessage.onEnd (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js:280:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","os":{"loadavg":[0,0,0],"uptime":288154},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18299061,"external":19252905,"heapTotal":28270592,"heapUsed":25762624,"rss":57249792},"pid":18284,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"256","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"f279d4dd-c4b2-4531-9ce4-377bd4d14a04","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"SyntaxError: Unexpected token c in JSON at position 7\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\body-parser\\lib\\types\\json.js:89:19)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:202:9)\n    at invokeCallback (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js:231:16)\n    at done (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js:220:7)\n    at IncomingMessage.onEnd (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js:280:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)","trace":[{"column":null,"file":null,"function":"JSON.parse","line":null,"method":"parse","native":false},{"column":19,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\body-parser\\lib\\types\\json.js","function":"parse","line":89,"method":null,"native":false},{"column":18,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\body-parser\\lib\\read.js","function":null,"line":128,"method":null,"native":false},{"column":9,"file":"node:async_hooks","function":"AsyncResource.runInAsyncScope","line":202,"method":"runInAsyncScope","native":false},{"column":16,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js","function":"invokeCallback","line":231,"method":null,"native":false},{"column":7,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js","function":"done","line":220,"method":null,"native":false},{"column":7,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\raw-body\\index.js","function":"IncomingMessage.onEnd","line":280,"method":"onEnd","native":false},{"column":35,"file":"node:events","function":"IncomingMessage.emit","line":539,"method":"emit","native":false},{"column":12,"file":"node:internal/streams/readable","function":"endReadableNT","line":1345,"method":null,"native":false},{"column":21,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":83,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Feb 28 2023 21:38:43 GMT+0300 (Москва, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: Cannot destructure property 'country' of 'req.body' as it is undefined.\nTypeError: Cannot destructure property 'country' of 'req.body' as it is undefined.\n    at setMovie (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:20:5)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","os":{"loadavg":[0,0,0],"uptime":288280},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18292320,"external":19246164,"heapTotal":28532736,"heapUsed":26152240,"rss":57769984},"pid":20272,"uid":null,"version":"v16.16.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"279","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZmU0NDViYWYzYjczNjdmM2ZkNjUxOSIsImlhdCI6MTY3NzYwODY4MiwiZXhwIjoxNjc4MjEzNDgyfQ.A1ncM5MQ--H5pufUulZ1YdinvX7q3mCjSgsAuvbJbj0","host":"localhost:3000","postman-token":"f676511d-2952-4046-844a-d4e377aa70e5","user-agent":"PostmanRuntime/7.31.1"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"TypeError: Cannot destructure property 'country' of 'req.body' as it is undefined.\n    at setMovie (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js:20:5)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)","trace":[{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\controlers\\movie.js","function":"setMovie","line":20,"method":null,"native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":114,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\ivano\\Desktop\\Front-end\\dev\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}]}}
